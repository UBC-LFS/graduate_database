{% if data.is_grad_advisor %}

<table
  class="table table-striped table-hover table-bordered table-responsive-md text-center fs-sm"
  data-toggle="table"
  data-sortable="true"
  data-classes=""
  data-pagination="true"
  data-search="true"
  data-page-size="10"
  data-page-list="[25, 50, 100, all]"
>
  <thead>
    <tr>
      <th>UID</th>
      <th data-sortable="true">First Name</th>
      <th data-sortable="true">Last Name</th>
      <th>Title</th>
      <th>Position</th>
      <th>Program <br /> Code</th>
      <th>Contact <br /> Info</th>
      <th>Graduate <br /> Supervision</th>
    </tr>
  </thead>
  <tbody>
    {% for coll in data.colleages %}
      <tr>
        <td>{{ coll.id }}</td>
        <td>{{ coll.first_name }}</td>
        <td>{{ coll.last_name }}</td>
        <td>{{ coll.profile.title.name }}</td>
        <td>{{ coll.profile.position.name }}</td>
        <td>
          {% for pg in coll.profile.programs.all %}
            <div>{{ pg.code }}</div>
          {% empty%}
            None
          {% endfor %}
        </td>
        <td>
          {% include 'gp_admin/subpages/_modal_contact_info.html' with item=coll %}
        </td>
        <td>
          <span class="d-none">{{ coll.graduate_supervision_set.count }}</span>
          {% if coll.graduate_supervision_set.count > 0 %}

            <button class="btn btn-xs btn-info" type="button" data-toggle="modal" data-target="#grad-supervision-modal-{{ coll.id }}">
              {{ coll.graduate_supervision_set.count }}
            </button>

            <div class="modal fade" id="grad-supervision-modal-{{ coll.id }}" tabindex="-1" role="dialog" aria-labelledby="grad-supervision-modal-label-{{ coll.id }}" aria-hidden="true">
              <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title text-info" id="grad-supervision-modal-label-{{ coll.id }}">Graduate Supervision</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                  </div>
                  <div class="modal-body text-left">

                    <h6 class="mb-4">
                      Professor Full Name:
                      <a class="d-inline" href="{% url 'gp_admin:get_grad_supervision' %}?first_name={{ coll.first_name }}&last_name={{ coll.last_name }}">{{ coll.get_full_name }}</a>
                    </h6>

                    <table class="modal-table table">
                      <thead>
                        <tr>
                          <th>GSID</th>
                          <th>Professor Role</th>
                          <th>Student</th>
                          <th>Created on</th>
                          <th>Updated on</th>
                        </tr>
                      </thead>
                      <tbody>
                        {% for gs in coll.graduate_supervision_set.all %}
                        <tr>
                          <td>{{ gs.id }}</td>
                          <td>{{ gs.professor_role.name }}</td>
                          <td>{{ gs.student.get_full_name }}</td>
                          <td>{{ gs.created_on }}</td>
                          <td>{{ gs.updated_on }}</td>
                        </tr>
                        {% endfor %}
                      </tbody>
                    </table>

                  </div>
                </div>
              </div>
            </div>

          {% else %}

            {{ coll.graduate_supervision_set.count }}

          {% endif %}
        </td>
      </tr>
    {% empty %}
      <tr>
        <td>No professors found.</td>
      </tr>
    {% endfor %}
  </tbody>
</table>

{% endif %}
